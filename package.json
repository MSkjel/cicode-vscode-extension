{
  "name": "cicode-vscode-extension",
  "displayName": "Cicode Syntax Highlighting",
  "description": "Syntax highlighting and navigation for Cicode",
  "version": "0.0.16",
  "publisher": "MSkjel",
  "repository": {
    "type": "git",
    "url": "https://github.com/MSkjel/cicode-vscode-extension"
  },
  "engines": {
    "vscode": "^1.88.0"
  },
  "categories": [
    "Programming Languages"
  ],
  "main": "./dist/extension.js",
  "activationEvents": [
    "onStartupFinished"
  ],
  "contributes": {
    "languages": [
      {
        "id": "cicode",
        "aliases": [
          "Cicode",
          "cicode"
        ],
        "extensions": [
          ".ci"
        ],
        "configuration": "./language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "cicode",
        "scopeName": "source.cicode",
        "path": "./syntaxes/cicode.tmLanguage.json"
      }
    ],
    "commands": [
      {
        "command": "cicode.rebuildBuiltins",
        "title": "Cicode: Rebuild Builtin Functions"
      },
      {
        "command": "cicode.reindexAll",
        "title": "Cicode: Reindex All Files"
      },
      {
        "command": "cicode.openHelpForSymbol",
        "title": "Cicode: Open Help for Symbol"
      },
      {
        "command": "cicode.insertDocSkeleton",
        "title": "Cicode: Insert Doc Skeleton for Function"
      },
      {
        "command": "cicode.createNewFile",
        "title": "New File",
        "icon": {
          "dark": "src/media/new-file-for-dark.svg",
          "light": "src/media/new-file-for-light.svg"
        }
      },
      {
        "command": "vscode.open",
        "title": "Open"
      },
      {
        "command": "copyFilePath",
        "title": "Copy as path"
      },
      {
        "command": "revealInExplorer",
        "title": "Reveal in File Explorer"
      },
      {
        "command": "renameFile",
        "title": "Rename..."
      },
      {
        "command": "deleteFile",
        "title": "Delete"
      }
    ],
    "keybindings": [
      {
        "command": "cicode.insertDocSkeleton",
        "key": "ctrl+alt+d",
        "when": "editorLangId == cicode && editorTextFocus"
      }
    ],
    "configuration": {
      "title": "Cicode",
      "properties": {
        "cicode.indexing.excludeGlobs": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "**/node_modules/**"
          ],
          "description": "Glob patterns to exclude from indexing."
        },
        "cicode.avevaPath": {
          "type": "string",
          "default": "C:/Program Files (x86)/AVEVA Plant SCADA",
          "description": "Path to AVEVA Plant SCADA installation folder. The extension will automatically find the help files."
        },
        "cicode.hover.showHelpLink": {
          "type": "boolean",
          "default": true,
          "description": "Show 'Open full help' link in hovers for builtins."
        },
        "cicode.diagnostics.enable": {
          "type": "boolean",
          "default": true,
          "description": "Enable basic diagnostics (undefined functions, duplicates)."
        },
        "cicode.format.enable": {
          "type": "boolean",
          "default": true,
          "description": "Enable the simple Cicode formatter."
        },
        "cicode.format.maxConsecutiveBlankLines": {
          "type": "number",
          "default": 1,
          "minimum": 0,
          "maximum": 5,
          "description": "Collapse multiple blank lines to this maximum (outside parentheses only)."
        },
        "cicode.lint.enable": {
          "type": "boolean",
          "default": true,
          "description": "Enable light lint diagnostics for common best practices."
        },
        "cicode.lint.maxLineLength": {
          "type": "number",
          "default": 140,
          "minimum": 0,
          "description": "Warn when lines exceed this length (0 = disable)."
        },
        "cicode.lint.warnMixedIndent": {
          "type": "boolean",
          "default": true,
          "description": "Warn on mixing tabs and spaces at line starts."
        },
        "cicode.lint.warnMissingSemicolons": {
          "type": "boolean",
          "default": true,
          "description": "Warn (info) when type declarations lack a trailing semicolon."
        },
        "cicode.lint.warnKeywordCase": {
          "type": "boolean",
          "default": false,
          "description": "Suggest UPPERCASE keywords/END/IF/etc. Does not auto-fix."
        },
        "cicode.lint.warnUnusedVariables": {
          "type": "boolean",
          "default": true,
          "description": "Warn about variables that are declared but never used."
        },
        "cicode.lint.warnMagicNumbers": {
          "type": "boolean",
          "default": false,
          "description": "Warn about hardcoded numeric literals (excludes 0, 1, -1, and array indices)."
        },
        "cicode.diagnostics.ignoredFunctions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "Function names to exclude from undefined and argument count checks (case-insensitive)."
        },
        "cicode.codeLens.enable": {
          "type": "boolean",
          "default": true,
          "description": "Show reference counts above function definitions."
        }
      }
    },
    "views": {
      "explorer": [
        {
          "id": "cicodeExplorer",
          "name": "Cicode Explorer",
          "icon": ""
        }
      ]
    },
    "menus": {
      "view/item/context": [
        {
          "when": "view == cicodeExplorer && viewItem == file",
          "command": "vscode.open",
          "group": "1_open@1"
        },
        {
          "when": "view == cicodeExplorer && viewItem == file",
          "command": "revealInExplorer",
          "group": "1_open@2"
        },
        {
          "when": "view == cicodeExplorer && viewItem == file",
          "command": "renameFile",
          "group": "2_edit"
        },
        {
          "when": "view == cicodeExplorer && viewItem == file",
          "command": "copyFilePath",
          "group": "3_misc"
        },
        {
          "when": "view == cicodeExplorer && viewItem == file",
          "command": "deleteFile",
          "group": "4_delete"
        },
        {
          "when": "view == cicodeExplorer && viewItem == folder",
          "command": "copyFilePath"
        }
      ],
      "view/title": [
        {
          "command": "cicode.createNewFile",
          "when": "view == cicodeExplorer",
          "group": "navigation"
        }
      ]
    }
  },
  "scripts": {
    "build": "webpack --mode production",
    "watch": "webpack --watch",
    "vscode:prepublish": "npm run build",
    "package": "vsce package",
    "publish": "vsce publish"
  },
  "dependencies": {
    "cheerio": "^1.1.2"
  },
  "devDependencies": {
    "@types/node": "^20.14.10",
    "@types/vscode": "^1.88.0",
    "prettier": "^3.6.2",
    "ts-loader": "^9.5.4",
    "typescript": "^5.4.5",
    "vsce": "^2.15.0",
    "webpack": "^5.102.0",
    "webpack-cli": "^6.0.1"
  }
}
